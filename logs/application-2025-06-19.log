2025-06-19 10:26:04 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 10:26:04 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 14828 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 10:26:04 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 10:26:05 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 10:26:05 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 106 ms. Found 4 JPA repository interfaces.
2025-06-19 10:26:06 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 10:26:06 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 10:26:06 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 10:26:06 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 10:26:06 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 10:26:06 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2087 ms
2025-06-19 10:26:07 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 10:26:07 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 10:26:07 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 10:26:07 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 10:26:07 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 10:26:08 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 5ff38b9d-c812-4cf9-9396-82fc61091cca
2025-06-19 10:26:08 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 10:26:08 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 10:26:09 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 10:26:10 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 10:26:10 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 10:26:11 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 10:26:11 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 10:26:12 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 10:26:12 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 10:26:12 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 10:26:12 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 9.06 seconds (process running for 9.938)
2025-06-19 10:26:24 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 10:26:24 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 10:26:24 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-19 10:26:40 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 10:26:40 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 10:26:40 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 10:26:40 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 10:26:40 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 10:27:34 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 10:27:34 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 6928 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 10:27:34 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 10:27:35 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 10:27:35 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 4 JPA repository interfaces.
2025-06-19 10:27:36 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 10:27:36 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 10:27:36 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 10:27:36 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 10:27:36 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 10:27:36 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1530 ms
2025-06-19 10:27:36 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 10:27:36 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 10:27:36 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 10:27:36 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 10:27:36 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 10:27:37 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 0433df16-d4f0-4d3e-9c8c-bd1b9e3c4287
2025-06-19 10:27:37 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 10:27:37 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 10:27:38 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 10:27:39 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 10:27:39 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 10:27:40 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 10:27:40 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 10:27:40 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 10:27:41 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 10:27:41 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 10:27:41 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.604 seconds (process running for 8.304)
2025-06-19 10:27:47 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 10:27:47 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 10:27:47 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-19 10:28:02 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:02 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 10:28:03 WARN  [http-nio-8080-exec-3] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2601, SQLState: 23000
2025-06-19 10:28:03 ERROR [http-nio-8080-exec-3] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert duplicate key row in object 'dbo.refresh_token' with unique index 'UKf95ixxe7pa48ryn1awmh2evt7'. The duplicate key value is (1).
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 831ms
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 832ms
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 10:28:03 WARN  [http-nio-8080-exec-2] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2601, SQLState: 23000
2025-06-19 10:28:03 ERROR [http-nio-8080-exec-2] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert duplicate key row in object 'dbo.refresh_token' with unique index 'UKf95ixxe7pa48ryn1awmh2evt7'. The duplicate key value is (1).
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 246ms
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 247ms
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 10:28:03 WARN  [http-nio-8080-exec-4] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2601, SQLState: 23000
2025-06-19 10:28:03 ERROR [http-nio-8080-exec-4] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert duplicate key row in object 'dbo.refresh_token' with unique index 'UKf95ixxe7pa48ryn1awmh2evt7'. The duplicate key value is (1).
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 239ms
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 239ms
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 10:28:03 WARN  [http-nio-8080-exec-6] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2601, SQLState: 23000
2025-06-19 10:28:03 ERROR [http-nio-8080-exec-6] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert duplicate key row in object 'dbo.refresh_token' with unique index 'UKf95ixxe7pa48ryn1awmh2evt7'. The duplicate key value is (1).
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 222ms
2025-06-19 10:28:03 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 222ms
2025-06-19 10:28:12 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 10:28:12 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 10:28:12 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 10:28:12 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 10:28:12 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 10:28:14 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 10:28:14 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 7936 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 10:28:14 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 10:28:15 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 10:28:15 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 71 ms. Found 4 JPA repository interfaces.
2025-06-19 10:28:16 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 10:28:16 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 10:28:16 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 10:28:16 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 10:28:16 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 10:28:16 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1457 ms
2025-06-19 10:28:16 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 10:28:16 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 10:28:16 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 10:28:17 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 10:28:17 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 10:28:17 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: c580d5a3-be41-4786-b6eb-b2286e9c696c
2025-06-19 10:28:17 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 10:28:17 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 10:28:18 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 10:28:19 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 10:28:19 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 10:28:20 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 10:28:20 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 10:28:20 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 10:28:21 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 10:28:21 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 10:28:21 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.423 seconds (process running for 8.128)
2025-06-19 10:28:25 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 10:28:25 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 10:28:25 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-19 10:28:25 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:25 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:25 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 10:28:25 WARN  [http-nio-8080-exec-1] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2601, SQLState: 23000
2025-06-19 10:28:25 ERROR [http-nio-8080-exec-1] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert duplicate key row in object 'dbo.refresh_token' with unique index 'UKf95ixxe7pa48ryn1awmh2evt7'. The duplicate key value is (1).
2025-06-19 10:28:25 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 400ms
2025-06-19 10:28:25 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 402ms
2025-06-19 10:28:25 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:25 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:25 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 10:28:25 WARN  [http-nio-8080-exec-5] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2601, SQLState: 23000
2025-06-19 10:28:25 ERROR [http-nio-8080-exec-5] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert duplicate key row in object 'dbo.refresh_token' with unique index 'UKf95ixxe7pa48ryn1awmh2evt7'. The duplicate key value is (1).
2025-06-19 10:28:25 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 134ms
2025-06-19 10:28:25 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 134ms
2025-06-19 10:28:25 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:25 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:26 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 10:28:26 WARN  [http-nio-8080-exec-2] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2601, SQLState: 23000
2025-06-19 10:28:26 ERROR [http-nio-8080-exec-2] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert duplicate key row in object 'dbo.refresh_token' with unique index 'UKf95ixxe7pa48ryn1awmh2evt7'. The duplicate key value is (1).
2025-06-19 10:28:26 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 134ms
2025-06-19 10:28:26 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 135ms
2025-06-19 10:28:26 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:26 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:26 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 10:28:26 WARN  [http-nio-8080-exec-4] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2601, SQLState: 23000
2025-06-19 10:28:26 ERROR [http-nio-8080-exec-4] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert duplicate key row in object 'dbo.refresh_token' with unique index 'UKf95ixxe7pa48ryn1awmh2evt7'. The duplicate key value is (1).
2025-06-19 10:28:26 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 124ms
2025-06-19 10:28:26 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 124ms
2025-06-19 10:28:26 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:26 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:26 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 10:28:26 WARN  [http-nio-8080-exec-3] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2601, SQLState: 23000
2025-06-19 10:28:26 ERROR [http-nio-8080-exec-3] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert duplicate key row in object 'dbo.refresh_token' with unique index 'UKf95ixxe7pa48ryn1awmh2evt7'. The duplicate key value is (1).
2025-06-19 10:28:26 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 137ms
2025-06-19 10:28:26 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 137ms
2025-06-19 10:28:56 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:56 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:28:57 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 10:28:57 WARN  [http-nio-8080-exec-9] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2601, SQLState: 23000
2025-06-19 10:28:57 ERROR [http-nio-8080-exec-9] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert duplicate key row in object 'dbo.refresh_token' with unique index 'UKf95ixxe7pa48ryn1awmh2evt7'. The duplicate key value is (1).
2025-06-19 10:28:57 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 399ms
2025-06-19 10:28:57 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 399ms
2025-06-19 10:29:26 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:29:26 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 10:29:26 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 10:29:26 WARN  [http-nio-8080-exec-10] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2601, SQLState: 23000
2025-06-19 10:29:26 ERROR [http-nio-8080-exec-10] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert duplicate key row in object 'dbo.refresh_token' with unique index 'UKf95ixxe7pa48ryn1awmh2evt7'. The duplicate key value is (5).
2025-06-19 10:29:26 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 161ms
2025-06-19 10:29:26 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 162ms
2025-06-19 10:29:42 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map)
2025-06-19 10:29:42 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String)
2025-06-19 10:29:42 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String) | Thời gian: 52ms
2025-06-19 10:29:42 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public boolean catholic.ac.kr.secureuserapp.service.RefreshTokenService.isValid(catholic.ac.kr.secureuserapp.model.entity.RefreshToken)
2025-06-19 10:29:42 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public boolean catholic.ac.kr.secureuserapp.service.RefreshTokenService.isValid(catholic.ac.kr.secureuserapp.model.entity.RefreshToken) | Thời gian: 0ms
2025-06-19 10:29:42 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map) | Thời gian: 53ms
2025-06-19 11:03:19 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 11:03:19 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 11:03:19 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 11:03:19 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 11:03:19 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 11:03:25 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 11:03:25 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 4452 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 11:03:25 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 11:03:26 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 11:03:26 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 89 ms. Found 4 JPA repository interfaces.
2025-06-19 11:03:27 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 11:03:27 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 11:03:27 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 11:03:27 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 11:03:27 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 11:03:27 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1739 ms
2025-06-19 11:03:27 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 11:03:27 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 11:03:27 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 11:03:28 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 11:03:28 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 11:03:28 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 5b79c79a-afef-40b5-bdbc-26352076c886
2025-06-19 11:03:28 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 11:03:28 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 11:03:29 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 11:03:30 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 11:03:30 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 11:03:31 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 11:03:31 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 11:03:32 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 11:03:34 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 11:03:34 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 11:03:34 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 8.912 seconds (process running for 9.549)
2025-06-19 11:05:22 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 11:05:22 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 11:05:22 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-19 11:05:22 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:05:22 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:05:23 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:05:23 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User) | Thời gian: 149ms
2025-06-19 11:05:23 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 685ms
2025-06-19 11:05:23 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 688ms
2025-06-19 11:06:55 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:06:55 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:06:55 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:06:55 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User) | Thời gian: 22ms
2025-06-19 11:06:55 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 239ms
2025-06-19 11:06:55 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 239ms
2025-06-19 11:08:12 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:08:12 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:08:13 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:08:13 WARN  [http-nio-8080-exec-7] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2601, SQLState: 23000
2025-06-19 11:08:13 ERROR [http-nio-8080-exec-7] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert duplicate key row in object 'dbo.refresh_token' with unique index 'UKf95ixxe7pa48ryn1awmh2evt7'. The duplicate key value is (2).
2025-06-19 11:08:13 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 411ms
2025-06-19 11:08:13 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 411ms
2025-06-19 11:09:04 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.signup(catholic.ac.kr.secureuserapp.model.dto.SignupRequest)
2025-06-19 11:09:04 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - ==> SignupRequest: loverain2005@gmail.com
2025-06-19 11:09:04 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.signUp(catholic.ac.kr.secureuserapp.model.dto.SignupRequest)
2025-06-19 11:09:04 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - ==> SignupRequest: loverain2005@gmail.com
2025-06-19 11:09:04 INFO  [http-nio-8080-exec-10] c.a.k.s.service.AuthService - Username: loverain2005@gmail.com 
2025-06-19 11:09:04 INFO  [http-nio-8080-exec-10] c.a.k.s.service.AuthService - Encoded Password: $2a$10$rtG041reTmDcoO5l8bFju.YIEQ0SP4UjemFAC2HRmkySzLmYoogeK
2025-06-19 11:09:04 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public void catholic.ac.kr.secureuserapp.service.EmailService.sendSimpleMail(java.lang.String,java.lang.String,java.lang.String)
2025-06-19 11:09:10 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public void catholic.ac.kr.secureuserapp.service.EmailService.sendSimpleMail(java.lang.String,java.lang.String,java.lang.String) | Thời gian: 5350ms
2025-06-19 11:09:10 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.signUp(catholic.ac.kr.secureuserapp.model.dto.SignupRequest) | Thời gian: 5816ms
2025-06-19 11:09:10 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.signup(catholic.ac.kr.secureuserapp.model.dto.SignupRequest) | Thời gian: 5824ms
2025-06-19 11:09:20 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.verifyEmail(java.lang.String)
2025-06-19 11:09:20 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.verifyEmail(java.lang.String)
2025-06-19 11:09:20 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.verifyEmail(java.lang.String) | Thời gian: 119ms
2025-06-19 11:09:20 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.verifyEmail(java.lang.String) | Thời gian: 119ms
2025-06-19 11:09:39 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.signup(catholic.ac.kr.secureuserapp.model.dto.SignupRequest)
2025-06-19 11:09:39 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> SignupRequest: loverain2006@gmail.com
2025-06-19 11:09:39 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.signUp(catholic.ac.kr.secureuserapp.model.dto.SignupRequest)
2025-06-19 11:09:39 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> SignupRequest: loverain2006@gmail.com
2025-06-19 11:09:39 INFO  [http-nio-8080-exec-3] c.a.k.s.service.AuthService - Username: loverain2006@gmail.com 
2025-06-19 11:09:40 INFO  [http-nio-8080-exec-3] c.a.k.s.service.AuthService - Encoded Password: $2a$10$N0fEqeIeU0a3eL4pvslgEeCtNFyIjznnY1BgTTf5HYpdPml41gNqi
2025-06-19 11:09:40 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public void catholic.ac.kr.secureuserapp.service.EmailService.sendSimpleMail(java.lang.String,java.lang.String,java.lang.String)
2025-06-19 11:09:44 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public void catholic.ac.kr.secureuserapp.service.EmailService.sendSimpleMail(java.lang.String,java.lang.String,java.lang.String) | Thời gian: 3952ms
2025-06-19 11:09:44 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.signUp(catholic.ac.kr.secureuserapp.model.dto.SignupRequest) | Thời gian: 4434ms
2025-06-19 11:09:44 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.signup(catholic.ac.kr.secureuserapp.model.dto.SignupRequest) | Thời gian: 4437ms
2025-06-19 11:10:02 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.signup(catholic.ac.kr.secureuserapp.model.dto.SignupRequest)
2025-06-19 11:10:02 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> SignupRequest: loverain2006@gmail.com
2025-06-19 11:10:02 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.signUp(catholic.ac.kr.secureuserapp.model.dto.SignupRequest)
2025-06-19 11:10:02 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> SignupRequest: loverain2006@gmail.com
2025-06-19 11:10:02 INFO  [http-nio-8080-exec-4] c.a.k.s.service.AuthService - Username: loverain2006@gmail.com 
2025-06-19 11:10:02 INFO  [http-nio-8080-exec-4] c.a.k.s.service.AuthService - Encoded Password: $2a$10$xalU/7AKBkIJPAEbzPdoc.cCLVIWhB4dVwq5gmGNuzRpc3hJPB9CC
2025-06-19 11:10:28 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:10:28 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:10:28 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 30ms
2025-06-19 11:10:28 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 30ms
2025-06-19 11:10:34 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:10:34 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:10:35 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:10:35 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User) | Thời gian: 33ms
2025-06-19 11:10:35 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 232ms
2025-06-19 11:10:35 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 232ms
2025-06-19 11:10:44 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:10:44 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:10:44 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 16ms
2025-06-19 11:10:44 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 16ms
2025-06-19 11:12:22 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 11:12:22 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 11:12:22 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 11:12:22 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 11:12:22 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 11:15:01 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 11:15:02 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 3384 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 11:15:02 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 11:15:02 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 11:15:02 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 64 ms. Found 4 JPA repository interfaces.
2025-06-19 11:15:03 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 11:15:03 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 11:15:03 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 11:15:03 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 11:15:03 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 11:15:03 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1429 ms
2025-06-19 11:15:03 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 11:15:03 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 11:15:03 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 11:15:04 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 11:15:04 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 11:15:04 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: bb9032be-8e5f-4702-b920-9fda660d7c2f
2025-06-19 11:15:04 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 11:15:04 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 11:15:05 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 11:15:06 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 11:15:06 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 11:15:07 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 11:15:07 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 11:15:07 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 11:15:08 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 11:15:08 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 11:15:08 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.31 seconds (process running for 7.898)
2025-06-19 11:15:15 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 11:15:15 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 11:15:15 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-19 11:15:15 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.verifyEmail(java.lang.String)
2025-06-19 11:15:15 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.verifyEmail(java.lang.String)
2025-06-19 11:15:15 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.verifyEmail(java.lang.String) | Thời gian: 117ms
2025-06-19 11:15:15 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.verifyEmail(java.lang.String) | Thời gian: 125ms
2025-06-19 11:15:39 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:15:39 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:15:39 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:15:39 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User) | Thời gian: 40ms
2025-06-19 11:15:39 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 497ms
2025-06-19 11:15:39 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 497ms
2025-06-19 11:21:55 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:21:55 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:21:55 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:21:55 WARN  [http-nio-8080-exec-10] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2601, SQLState: 23000
2025-06-19 11:21:55 ERROR [http-nio-8080-exec-10] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert duplicate key row in object 'dbo.refresh_token' with unique index 'UKf95ixxe7pa48ryn1awmh2evt7'. The duplicate key value is (7).
2025-06-19 11:21:55 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 396ms
2025-06-19 11:21:55 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 396ms
2025-06-19 11:21:59 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 11:21:59 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 11:21:59 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 11:21:59 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 11:21:59 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 11:22:04 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 11:22:04 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 10428 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 11:22:04 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 11:22:05 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 11:22:05 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 80 ms. Found 4 JPA repository interfaces.
2025-06-19 11:22:06 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 11:22:06 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 11:22:06 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 11:22:06 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 11:22:06 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 11:22:06 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1681 ms
2025-06-19 11:22:06 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 11:22:06 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 11:22:06 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 11:22:06 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 11:22:06 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 11:22:07 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 26906402-5014-4a46-a5b4-9efd5f495afa
2025-06-19 11:22:07 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 11:22:07 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 11:22:08 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 11:22:09 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 11:22:09 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 11:22:10 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 11:22:10 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 11:22:10 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 11:22:11 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 11:22:11 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 11:22:11 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.8 seconds (process running for 8.401)
2025-06-19 11:22:21 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 11:22:21 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 11:22:21 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-19 11:22:22 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:22:22 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:22:22 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:22:22 WARN  [http-nio-8080-exec-2] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2601, SQLState: 23000
2025-06-19 11:22:22 ERROR [http-nio-8080-exec-2] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert duplicate key row in object 'dbo.refresh_token' with unique index 'UKf95ixxe7pa48ryn1awmh2evt7'. The duplicate key value is (7).
2025-06-19 11:22:22 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 473ms
2025-06-19 11:22:22 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 475ms
2025-06-19 11:22:44 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.signup(catholic.ac.kr.secureuserapp.model.dto.SignupRequest)
2025-06-19 11:22:44 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> SignupRequest: loverain2007@gmail.com
2025-06-19 11:22:44 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.signUp(catholic.ac.kr.secureuserapp.model.dto.SignupRequest)
2025-06-19 11:22:44 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> SignupRequest: loverain2007@gmail.com
2025-06-19 11:22:44 INFO  [http-nio-8080-exec-3] c.a.k.s.service.AuthService - Username: loverain2007@gmail.com 
2025-06-19 11:22:45 INFO  [http-nio-8080-exec-3] c.a.k.s.service.AuthService - Encoded Password: $2a$10$quSJrzTxfizRHNQq/2Ogz.WhYfe16wsKTi8EFFPlEsTJi33IMQS4y
2025-06-19 11:22:45 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public void catholic.ac.kr.secureuserapp.service.EmailService.sendSimpleMail(java.lang.String,java.lang.String,java.lang.String)
2025-06-19 11:22:49 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public void catholic.ac.kr.secureuserapp.service.EmailService.sendSimpleMail(java.lang.String,java.lang.String,java.lang.String) | Thời gian: 4406ms
2025-06-19 11:22:49 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.signUp(catholic.ac.kr.secureuserapp.model.dto.SignupRequest) | Thời gian: 4802ms
2025-06-19 11:22:49 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.signup(catholic.ac.kr.secureuserapp.model.dto.SignupRequest) | Thời gian: 4802ms
2025-06-19 11:22:57 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.verifyEmail(java.lang.String)
2025-06-19 11:22:57 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.verifyEmail(java.lang.String)
2025-06-19 11:22:57 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.verifyEmail(java.lang.String) | Thời gian: 90ms
2025-06-19 11:22:57 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.verifyEmail(java.lang.String) | Thời gian: 90ms
2025-06-19 11:23:06 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:23:06 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:23:06 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:23:06 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User) | Thời gian: 21ms
2025-06-19 11:23:06 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 133ms
2025-06-19 11:23:06 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 133ms
2025-06-19 11:23:12 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:23:12 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:23:12 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:23:12 WARN  [http-nio-8080-exec-7] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2601, SQLState: 23000
2025-06-19 11:23:12 ERROR [http-nio-8080-exec-7] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert duplicate key row in object 'dbo.refresh_token' with unique index 'UKf95ixxe7pa48ryn1awmh2evt7'. The duplicate key value is (8).
2025-06-19 11:23:12 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 167ms
2025-06-19 11:23:12 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 167ms
2025-06-19 11:23:52 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map)
2025-06-19 11:23:52 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String)
2025-06-19 11:23:52 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String) | Thời gian: 30ms
2025-06-19 11:23:52 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public boolean catholic.ac.kr.secureuserapp.service.RefreshTokenService.isValid(catholic.ac.kr.secureuserapp.model.entity.RefreshToken)
2025-06-19 11:23:52 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public boolean catholic.ac.kr.secureuserapp.service.RefreshTokenService.isValid(catholic.ac.kr.secureuserapp.model.entity.RefreshToken) | Thời gian: 0ms
2025-06-19 11:23:52 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map) | Thời gian: 36ms
2025-06-19 11:24:17 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.UserController.getAllUsers()
2025-06-19 11:24:17 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.UserService.findAllUsers()
2025-06-19 11:24:18 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.UserService.findAllUsers() | Thời gian: 33ms
2025-06-19 11:24:18 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.UserController.getAllUsers() | Thời gian: 93ms
2025-06-19 11:32:04 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 11:32:04 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 11:32:04 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 11:32:04 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 11:32:04 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 11:32:08 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 11:32:08 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 7936 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 11:32:08 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 11:32:09 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 11:32:09 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 69 ms. Found 4 JPA repository interfaces.
2025-06-19 11:32:10 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 11:32:10 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 11:32:10 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 11:32:10 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 11:32:10 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 11:32:10 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1544 ms
2025-06-19 11:32:10 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 11:32:10 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 11:32:10 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 11:32:10 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 11:32:10 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 11:32:11 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: c0943525-ef16-4089-aa8a-cce0eee0705d
2025-06-19 11:32:11 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 11:32:11 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 11:32:12 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 11:32:13 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 11:32:13 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 11:32:14 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 11:32:14 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 11:32:14 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 11:32:15 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 11:32:15 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 11:32:15 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.285 seconds (process running for 7.864)
2025-06-19 11:32:25 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 11:32:25 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 11:32:25 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-19 11:32:25 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:32:25 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:32:25 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:32:25 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 340ms
2025-06-19 11:32:25 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 342ms
2025-06-19 11:33:19 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:33:19 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:33:19 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:33:19 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 239ms
2025-06-19 11:33:19 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 239ms
2025-06-19 11:34:53 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:34:53 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:34:54 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:34:54 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 286ms
2025-06-19 11:34:54 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 286ms
2025-06-19 11:35:12 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:35:12 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:35:12 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:35:12 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 283ms
2025-06-19 11:35:12 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 285ms
2025-06-19 11:35:24 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:35:24 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:35:24 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:35:24 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 223ms
2025-06-19 11:35:24 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 223ms
2025-06-19 11:36:08 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:36:08 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:36:08 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:36:08 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 204ms
2025-06-19 11:36:08 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 205ms
2025-06-19 11:39:28 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map)
2025-06-19 11:39:28 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String)
2025-06-19 11:39:28 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String) | Thời gian: 57ms
2025-06-19 11:39:28 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public boolean catholic.ac.kr.secureuserapp.service.RefreshTokenService.isValid(catholic.ac.kr.secureuserapp.model.entity.RefreshToken)
2025-06-19 11:39:28 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public boolean catholic.ac.kr.secureuserapp.service.RefreshTokenService.isValid(catholic.ac.kr.secureuserapp.model.entity.RefreshToken) | Thời gian: 0ms
2025-06-19 11:39:28 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map) | Thời gian: 57ms
2025-06-19 11:39:32 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map)
2025-06-19 11:39:32 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String)
2025-06-19 11:39:32 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String) | Thời gian: 0ms
2025-06-19 11:39:32 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map) | Thời gian: 0ms
2025-06-19 11:39:41 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map)
2025-06-19 11:39:41 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String)
2025-06-19 11:39:41 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String) | Thời gian: 8ms
2025-06-19 11:39:41 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public boolean catholic.ac.kr.secureuserapp.service.RefreshTokenService.isValid(catholic.ac.kr.secureuserapp.model.entity.RefreshToken)
2025-06-19 11:39:41 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public boolean catholic.ac.kr.secureuserapp.service.RefreshTokenService.isValid(catholic.ac.kr.secureuserapp.model.entity.RefreshToken) | Thời gian: 0ms
2025-06-19 11:39:41 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map) | Thời gian: 8ms
2025-06-19 11:39:43 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map)
2025-06-19 11:39:43 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String)
2025-06-19 11:39:43 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String) | Thời gian: 11ms
2025-06-19 11:39:43 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public boolean catholic.ac.kr.secureuserapp.service.RefreshTokenService.isValid(catholic.ac.kr.secureuserapp.model.entity.RefreshToken)
2025-06-19 11:39:43 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public boolean catholic.ac.kr.secureuserapp.service.RefreshTokenService.isValid(catholic.ac.kr.secureuserapp.model.entity.RefreshToken) | Thời gian: 0ms
2025-06-19 11:39:43 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map) | Thời gian: 16ms
2025-06-19 11:39:44 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map)
2025-06-19 11:39:44 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String)
2025-06-19 11:39:44 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String) | Thời gian: 18ms
2025-06-19 11:39:44 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public boolean catholic.ac.kr.secureuserapp.service.RefreshTokenService.isValid(catholic.ac.kr.secureuserapp.model.entity.RefreshToken)
2025-06-19 11:39:44 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public boolean catholic.ac.kr.secureuserapp.service.RefreshTokenService.isValid(catholic.ac.kr.secureuserapp.model.entity.RefreshToken) | Thời gian: 0ms
2025-06-19 11:39:44 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map) | Thời gian: 18ms
2025-06-19 11:39:50 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map)
2025-06-19 11:39:50 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String)
2025-06-19 11:39:50 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String) | Thời gian: 8ms
2025-06-19 11:39:50 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map) | Thời gian: 9ms
2025-06-19 11:46:37 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 11:46:37 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 11:46:37 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 11:46:37 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 11:46:37 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 11:46:41 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 11:46:41 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 8156 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 11:46:41 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 11:46:42 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 11:46:42 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 56 ms. Found 4 JPA repository interfaces.
2025-06-19 11:46:43 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 11:46:43 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 11:46:43 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 11:46:43 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 11:46:43 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 11:46:43 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1527 ms
2025-06-19 11:46:43 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 11:46:43 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 11:46:43 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 11:46:44 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 11:46:44 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 11:46:44 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: c7baecf1-8c8e-4cf9-a961-0442249ca454
2025-06-19 11:46:44 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 11:46:44 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 11:46:45 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 11:46:46 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 11:46:47 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 11:46:48 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 11:46:48 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 11:46:48 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 11:46:49 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 11:46:49 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 11:46:49 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 8.003 seconds (process running for 8.571)
2025-06-19 11:47:01 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 11:47:01 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 11:47:01 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-19 11:47:02 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:47:02 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:47:02 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:47:02 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 288ms
2025-06-19 11:47:02 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 290ms
2025-06-19 11:47:23 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:47:23 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:47:23 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:47:23 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 178ms
2025-06-19 11:47:23 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 178ms
2025-06-19 11:48:47 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 11:48:47 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 11:48:47 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 11:48:47 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 11:48:47 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 11:48:49 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 11:48:50 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 8100 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 11:48:50 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 11:48:50 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 11:48:50 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 65 ms. Found 4 JPA repository interfaces.
2025-06-19 11:48:51 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 11:48:51 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 11:48:51 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 11:48:51 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 11:48:51 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 11:48:51 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1480 ms
2025-06-19 11:48:51 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 11:48:51 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 11:48:51 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 11:48:52 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 11:48:52 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 11:48:52 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 864ad000-fd8c-4c58-b46c-31925a8579db
2025-06-19 11:48:52 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 11:48:52 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 11:48:53 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 11:48:56 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 11:48:56 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 11:48:57 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 11:48:57 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 11:48:57 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 11:48:58 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 11:48:58 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 11:48:58 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 8.984 seconds (process running for 9.74)
2025-06-19 11:49:17 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 11:49:17 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 11:49:17 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-19 11:49:17 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:49:17 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:49:17 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:49:18 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 409ms
2025-06-19 11:49:18 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 412ms
2025-06-19 11:51:02 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 11:51:02 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 11:51:02 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 11:51:02 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 11:51:02 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 11:51:07 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 11:51:07 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 17040 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 11:51:07 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 11:51:08 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 11:51:08 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 82 ms. Found 4 JPA repository interfaces.
2025-06-19 11:51:08 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 11:51:08 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 11:51:08 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 11:51:08 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 11:51:09 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 11:51:09 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1603 ms
2025-06-19 11:51:09 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 11:51:09 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 11:51:09 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 11:51:09 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 11:51:09 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 11:51:09 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 97c33998-33dc-421d-b36c-5947ed379a78
2025-06-19 11:51:10 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 11:51:10 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 11:51:11 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 11:51:11 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 11:51:12 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 11:51:13 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 11:51:13 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 11:51:13 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 11:51:14 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 11:51:14 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 11:51:14 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.45 seconds (process running for 8.02)
2025-06-19 11:51:17 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 11:51:17 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 11:51:17 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-19 11:51:18 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:51:18 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:51:18 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:51:18 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 346ms
2025-06-19 11:51:18 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 349ms
2025-06-19 11:53:31 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.signup(catholic.ac.kr.secureuserapp.model.dto.SignupRequest)
2025-06-19 11:53:31 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> SignupRequest: loverain2008@gmail.com
2025-06-19 11:53:31 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.signUp(catholic.ac.kr.secureuserapp.model.dto.SignupRequest)
2025-06-19 11:53:31 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> SignupRequest: loverain2008@gmail.com
2025-06-19 11:53:31 INFO  [http-nio-8080-exec-5] c.a.k.s.service.AuthService - Username: loverain2008@gmail.com 
2025-06-19 11:53:31 INFO  [http-nio-8080-exec-5] c.a.k.s.service.AuthService - Encoded Password: $2a$10$M4vhy14O1GeyPnpjSE79D.gRzwrup336OgVzbJsJU8iBo.OX2GIVi
2025-06-19 11:53:32 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public void catholic.ac.kr.secureuserapp.service.EmailService.sendSimpleMail(java.lang.String,java.lang.String,java.lang.String)
2025-06-19 11:53:36 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public void catholic.ac.kr.secureuserapp.service.EmailService.sendSimpleMail(java.lang.String,java.lang.String,java.lang.String) | Thời gian: 4213ms
2025-06-19 11:53:36 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.signUp(catholic.ac.kr.secureuserapp.model.dto.SignupRequest) | Thời gian: 4655ms
2025-06-19 11:53:36 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.signup(catholic.ac.kr.secureuserapp.model.dto.SignupRequest) | Thời gian: 4655ms
2025-06-19 11:53:44 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.verifyEmail(java.lang.String)
2025-06-19 11:53:44 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.verifyEmail(java.lang.String)
2025-06-19 11:53:44 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.verifyEmail(java.lang.String) | Thời gian: 117ms
2025-06-19 11:53:44 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.verifyEmail(java.lang.String) | Thời gian: 121ms
2025-06-19 11:53:56 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:53:56 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:53:56 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:53:56 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User) | Thời gian: 40ms
2025-06-19 11:53:56 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 245ms
2025-06-19 11:53:56 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 245ms
2025-06-19 11:58:15 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 11:58:15 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 11:58:15 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 11:58:15 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 11:58:15 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 11:58:19 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 11:58:19 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 14304 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 11:58:19 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 11:58:20 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 11:58:20 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 63 ms. Found 4 JPA repository interfaces.
2025-06-19 11:58:21 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 11:58:21 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 11:58:21 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 11:58:21 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 11:58:21 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 11:58:21 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1585 ms
2025-06-19 11:58:21 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 11:58:21 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 11:58:21 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 11:58:21 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 11:58:21 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 11:58:22 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 6a6c5805-0f61-4afd-a068-bcb1f2417476
2025-06-19 11:58:22 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 11:58:22 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 11:58:23 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 11:58:24 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 11:58:24 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 11:58:25 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 11:58:25 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 11:58:26 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 11:58:27 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 11:58:27 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 11:58:27 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.874 seconds (process running for 8.459)
2025-06-19 11:58:32 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 11:58:32 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 11:58:32 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-19 11:58:32 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:58:32 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 11:58:32 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 11:58:32 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 298ms
2025-06-19 11:58:32 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 300ms
2025-06-19 12:01:38 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 12:01:38 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 12:01:38 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:01:38 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:01:38 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:01:42 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:01:42 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 5980 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:01:42 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:01:43 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 12:01:43 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 58 ms. Found 4 JPA repository interfaces.
2025-06-19 12:01:43 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 12:01:43 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 12:01:43 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 12:01:43 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 12:01:43 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 12:01:43 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1563 ms
2025-06-19 12:01:44 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 12:01:44 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 12:01:44 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 12:01:44 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 12:01:44 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 12:01:44 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: c2c8ebd1-99d3-4503-9b4f-22229d566c86
2025-06-19 12:01:45 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 12:01:45 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 12:01:46 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 12:01:47 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:01:47 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 12:01:48 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 12:01:48 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 12:01:48 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 12:01:49 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 12:01:49 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 12:01:49 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.473 seconds (process running for 8.052)
2025-06-19 12:02:02 INFO  [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 12:02:02 INFO  [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 12:02:02 INFO  [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-19 12:02:02 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:02:02 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:02:03 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 12:02:03 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 362ms
2025-06-19 12:02:03 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 363ms
2025-06-19 12:06:01 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 12:06:01 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 12:06:01 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:06:01 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:06:01 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:06:05 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:06:05 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 3740 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:06:05 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:06:06 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 12:06:06 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2025-06-19 12:06:07 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 12:06:07 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 12:06:07 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 12:06:07 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 12:06:07 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 12:06:07 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1500 ms
2025-06-19 12:06:07 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 12:06:07 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 12:06:07 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 12:06:08 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 12:06:08 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 12:06:08 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 6ead4f14-5fd9-4828-ac63-3128b06791e3
2025-06-19 12:06:08 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 12:06:08 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 12:06:09 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 12:06:10 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:06:10 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 12:06:11 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 12:06:11 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 12:06:12 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 12:06:13 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 12:06:13 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 12:06:13 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.633 seconds (process running for 8.211)
2025-06-19 12:06:15 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 12:06:15 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 12:06:15 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-19 12:06:15 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:06:15 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:06:16 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 12:06:16 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 322ms
2025-06-19 12:06:16 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 324ms
2025-06-19 12:08:56 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 12:08:56 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 12:08:56 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:08:56 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:08:56 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:09:01 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:09:01 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 8900 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:09:01 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:09:02 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 12:09:02 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 87 ms. Found 4 JPA repository interfaces.
2025-06-19 12:09:03 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 12:09:03 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 12:09:03 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 12:09:03 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 12:09:03 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 12:09:03 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1669 ms
2025-06-19 12:09:03 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 12:09:03 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 12:09:03 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 12:09:04 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 12:09:04 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 12:09:04 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 959ac489-566a-4353-bc4f-a373e96a228f
2025-06-19 12:09:04 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 12:09:04 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 12:09:05 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 12:09:06 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:09:06 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 12:09:07 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 12:09:07 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 12:09:08 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 12:09:09 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 12:09:09 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 12:09:09 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.881 seconds (process running for 8.46)
2025-06-19 12:09:11 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 12:09:11 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 12:09:11 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-19 12:09:11 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:09:11 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:09:11 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 12:09:12 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 350ms
2025-06-19 12:09:12 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 351ms
2025-06-19 12:09:17 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:09:17 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:09:18 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 12:09:18 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 157ms
2025-06-19 12:09:18 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 158ms
2025-06-19 12:09:58 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 12:09:58 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 12:09:58 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:09:58 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:09:58 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:10:02 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:10:02 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 18940 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:10:02 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:10:03 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 12:10:03 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 72 ms. Found 4 JPA repository interfaces.
2025-06-19 12:10:04 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 12:10:04 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 12:10:04 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 12:10:04 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 12:10:04 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 12:10:04 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1636 ms
2025-06-19 12:10:04 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 12:10:04 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 12:10:04 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 12:10:04 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 12:10:04 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 12:10:05 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: bb4b05dd-0a15-481d-a68c-eeba56309736
2025-06-19 12:10:05 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 12:10:05 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 12:10:06 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 12:10:07 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:10:07 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 12:10:08 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 12:10:08 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 12:10:08 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 12:10:09 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 12:10:09 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 12:10:09 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.531 seconds (process running for 8.085)
2025-06-19 12:10:10 INFO  [http-nio-8080-exec-6] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 12:10:10 INFO  [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 12:10:10 INFO  [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-19 12:10:10 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.signup(catholic.ac.kr.secureuserapp.model.dto.SignupRequest)
2025-06-19 12:10:10 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> SignupRequest: loverain2009@gmail.com
2025-06-19 12:10:10 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.signUp(catholic.ac.kr.secureuserapp.model.dto.SignupRequest)
2025-06-19 12:10:10 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> SignupRequest: loverain2009@gmail.com
2025-06-19 12:10:10 INFO  [http-nio-8080-exec-6] c.a.k.s.service.AuthService - Username: loverain2009@gmail.com 
2025-06-19 12:10:11 INFO  [http-nio-8080-exec-6] c.a.k.s.service.AuthService - Encoded Password: $2a$10$dANKHjviUhab5nKxGNBj9OOndk0AZOz6Jjvjyjq4Rkad8EregqjAa
2025-06-19 12:10:11 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public void catholic.ac.kr.secureuserapp.service.EmailService.sendSimpleMail(java.lang.String,java.lang.String,java.lang.String)
2025-06-19 12:10:15 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public void catholic.ac.kr.secureuserapp.service.EmailService.sendSimpleMail(java.lang.String,java.lang.String,java.lang.String) | Thời gian: 4616ms
2025-06-19 12:10:15 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.signUp(catholic.ac.kr.secureuserapp.model.dto.SignupRequest) | Thời gian: 4948ms
2025-06-19 12:10:15 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.signup(catholic.ac.kr.secureuserapp.model.dto.SignupRequest) | Thời gian: 4952ms
2025-06-19 12:10:24 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.verifyEmail(java.lang.String)
2025-06-19 12:10:24 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.verifyEmail(java.lang.String)
2025-06-19 12:10:24 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.verifyEmail(java.lang.String) | Thời gian: 113ms
2025-06-19 12:10:24 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.verifyEmail(java.lang.String) | Thời gian: 113ms
2025-06-19 12:10:34 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:10:34 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:10:35 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 12:10:35 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User) | Thời gian: 51ms
2025-06-19 12:10:35 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 494ms
2025-06-19 12:10:35 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 494ms
2025-06-19 12:11:15 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:11:15 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:11:15 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 12:11:15 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 286ms
2025-06-19 12:11:15 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 286ms
2025-06-19 12:14:44 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 12:14:44 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 12:14:44 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:14:44 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:14:44 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:14:48 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:14:48 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 13272 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:14:48 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:14:49 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 12:14:49 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 67 ms. Found 4 JPA repository interfaces.
2025-06-19 12:14:49 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 12:14:49 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 12:14:49 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 12:14:49 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 12:14:50 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 12:14:50 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1536 ms
2025-06-19 12:14:50 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 12:14:50 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 12:14:50 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 12:14:50 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 12:14:50 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 12:14:51 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 5f32a516-f239-4437-8ee7-48b6f1e6df59
2025-06-19 12:14:51 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 12:14:51 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 12:14:52 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 12:14:53 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:14:53 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 12:14:54 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 12:14:54 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 12:14:54 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 12:14:55 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 12:14:55 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 12:14:55 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.752 seconds (process running for 8.338)
2025-06-19 12:15:08 INFO  [http-nio-8080-exec-7] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 12:15:08 INFO  [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 12:15:08 INFO  [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-06-19 12:15:08 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:15:08 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:15:09 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 12:15:09 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 390ms
2025-06-19 12:15:09 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 394ms
2025-06-19 12:18:11 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 12:18:11 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 12:18:11 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:18:11 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:18:11 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:18:15 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:18:15 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 18188 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:18:15 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:18:16 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 12:18:16 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2025-06-19 12:18:17 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 12:18:17 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 12:18:17 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 12:18:17 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 12:18:17 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 12:18:17 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1562 ms
2025-06-19 12:18:17 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 12:18:17 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 12:18:17 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 12:18:18 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 12:18:18 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 12:18:18 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 82776e48-0386-4df8-9e66-78c4a35fb30b
2025-06-19 12:18:18 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 12:18:18 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 12:18:19 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 12:18:20 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:18:20 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 12:18:21 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 12:18:21 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 12:18:21 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 12:18:22 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 12:18:22 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 12:18:22 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.208 seconds (process running for 7.772)
2025-06-19 12:18:27 INFO  [http-nio-8080-exec-6] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 12:18:27 INFO  [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 12:18:27 INFO  [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-19 12:18:27 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:18:27 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:18:27 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 12:18:27 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User) | Thời gian: 69ms
2025-06-19 12:18:27 WARN  [http-nio-8080-exec-6] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2601, SQLState: 23000
2025-06-19 12:18:27 ERROR [http-nio-8080-exec-6] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert duplicate key row in object 'dbo.refresh_token' with unique index 'UKf95ixxe7pa48ryn1awmh2evt7'. The duplicate key value is (10).
2025-06-19 12:18:27 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 389ms
2025-06-19 12:18:27 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 390ms
2025-06-19 12:21:45 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 12:21:45 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 12:21:45 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:21:45 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:21:45 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:21:50 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:21:50 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 12420 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:21:50 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:21:51 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 12:21:51 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 94 ms. Found 4 JPA repository interfaces.
2025-06-19 12:21:52 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 12:21:52 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 12:21:52 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 12:21:52 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 12:21:52 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 12:21:52 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1715 ms
2025-06-19 12:21:52 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 12:21:52 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 12:21:52 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 12:21:52 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 12:21:52 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 12:21:53 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: bef9f437-b4db-41ed-a3cd-7d7aa3cda42b
2025-06-19 12:21:53 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 12:21:53 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 12:21:54 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 12:21:55 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:21:55 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 12:21:56 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 12:21:56 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 12:21:57 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 12:21:57 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 12:21:58 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 12:21:58 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 8.092 seconds (process running for 8.695)
2025-06-19 12:22:09 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 12:22:09 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 12:22:09 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:22:09 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:22:09 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:22:12 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:22:12 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 1412 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:22:12 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:22:13 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 12:22:13 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 66 ms. Found 4 JPA repository interfaces.
2025-06-19 12:22:14 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 12:22:14 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 12:22:14 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 12:22:14 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 12:22:14 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 12:22:14 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1471 ms
2025-06-19 12:22:14 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 12:22:14 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 12:22:14 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 12:22:15 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 12:22:15 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 12:22:15 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: d5c58ebe-2521-4662-bcdb-c09170cc2416
2025-06-19 12:22:15 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 12:22:15 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 12:22:16 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 12:22:16 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:22:17 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 12:22:17 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 12:22:17 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 12:22:18 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 12:22:19 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 12:22:19 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 12:22:19 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 6.766 seconds (process running for 7.334)
2025-06-19 12:22:25 INFO  [http-nio-8080-exec-6] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 12:22:25 INFO  [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 12:22:25 INFO  [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-19 12:22:25 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:22:25 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:22:25 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 12:22:25 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User) | Thời gian: 70ms
2025-06-19 12:22:25 WARN  [http-nio-8080-exec-6] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2601, SQLState: 23000
2025-06-19 12:22:25 ERROR [http-nio-8080-exec-6] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert duplicate key row in object 'dbo.refresh_token' with unique index 'UKf95ixxe7pa48ryn1awmh2evt7'. The duplicate key value is (10).
2025-06-19 12:22:25 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 419ms
2025-06-19 12:22:25 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 422ms
2025-06-19 12:27:17 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 12:27:17 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 12:27:17 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:27:17 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:27:17 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:27:21 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:27:21 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 6380 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:27:21 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:27:22 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 12:27:22 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2025-06-19 12:27:22 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 12:27:22 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 12:27:22 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 12:27:22 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 12:27:22 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 12:27:22 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1572 ms
2025-06-19 12:27:23 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 12:27:23 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 12:27:23 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 12:27:23 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 12:27:23 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 12:27:23 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: e1197b5c-dba7-4ba4-9824-a26aff19697a
2025-06-19 12:27:23 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 12:27:23 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 12:27:24 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 12:27:25 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:27:26 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 12:27:27 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 12:27:27 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 12:27:27 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 12:27:28 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 12:27:28 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 12:27:28 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.626 seconds (process running for 8.221)
2025-06-19 12:27:33 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 12:27:33 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 12:27:33 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-19 12:27:33 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:27:33 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:27:33 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 12:27:33 WARN  [http-nio-8080-exec-1] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 515, SQLState: 23000
2025-06-19 12:27:33 ERROR [http-nio-8080-exec-1] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert the value NULL into column 'id', table 'BookStore.dbo.refresh_token'; column does not allow nulls. INSERT fails.
2025-06-19 12:27:33 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 452ms
2025-06-19 12:27:33 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 455ms
2025-06-19 12:31:58 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 12:31:58 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 12:31:58 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:31:58 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:31:58 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:32:02 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:32:02 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 15300 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:32:02 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:32:02 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 12:32:02 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 63 ms. Found 4 JPA repository interfaces.
2025-06-19 12:32:03 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 12:32:03 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 12:32:03 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 12:32:03 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 12:32:03 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 12:32:03 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1525 ms
2025-06-19 12:32:03 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 12:32:03 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 12:32:04 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 12:32:04 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 12:32:04 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 12:32:04 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: b145bdd1-d314-4d46-ada5-8c80f04d3d6a
2025-06-19 12:32:04 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 12:32:04 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 12:32:05 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 12:32:06 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:32:07 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 12:32:08 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 12:32:08 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 12:32:08 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 12:32:09 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 12:32:09 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 12:32:09 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.832 seconds (process running for 8.409)
2025-06-19 12:32:12 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 12:32:12 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 12:32:12 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-19 12:32:12 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:32:12 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:32:12 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 12:32:12 WARN  [http-nio-8080-exec-1] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 515, SQLState: 23000
2025-06-19 12:32:12 ERROR [http-nio-8080-exec-1] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert the value NULL into column 'id', table 'BookStore.dbo.refresh_token'; column does not allow nulls. INSERT fails.
2025-06-19 12:32:12 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 395ms
2025-06-19 12:32:12 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 396ms
2025-06-19 12:36:21 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 12:36:21 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 12:36:21 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:36:21 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:36:21 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:36:24 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:36:25 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 5864 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:36:25 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:36:25 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 12:36:25 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 66 ms. Found 4 JPA repository interfaces.
2025-06-19 12:36:26 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 12:36:26 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 12:36:26 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 12:36:26 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 12:36:26 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 12:36:26 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1526 ms
2025-06-19 12:36:26 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 12:36:26 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 12:36:26 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 12:36:27 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 12:36:27 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 12:36:27 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 1e68d5a5-238f-4ec1-b94c-8bfa712a27fe
2025-06-19 12:36:27 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 12:36:27 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 12:36:28 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 12:36:29 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:36:30 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 12:36:30 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 12:36:30 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 12:36:31 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 12:36:32 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 12:36:32 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 12:36:32 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.707 seconds (process running for 8.299)
2025-06-19 12:36:38 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 12:36:38 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 12:36:38 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-19 12:36:38 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:36:38 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 12:36:38 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 12:36:38 WARN  [http-nio-8080-exec-1] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 515, SQLState: 23000
2025-06-19 12:36:38 ERROR [http-nio-8080-exec-1] o.h.e.jdbc.spi.SqlExceptionHelper - Cannot insert the value NULL into column 'id', table 'BookStore.dbo.refresh_token'; column does not allow nulls. INSERT fails.
2025-06-19 12:36:38 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 420ms
2025-06-19 12:36:38 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 424ms
2025-06-19 12:49:21 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 12:49:21 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 12:49:21 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:49:21 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:49:21 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:49:52 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:49:52 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 3596 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:49:52 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:49:53 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 12:49:53 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 68 ms. Found 4 JPA repository interfaces.
2025-06-19 12:49:54 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 12:49:54 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 12:49:54 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 12:49:54 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 12:49:54 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 12:49:54 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1444 ms
2025-06-19 12:49:54 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 12:49:54 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 12:49:54 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 12:49:54 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 12:49:54 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 12:49:55 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: dcbf1bb8-e8bd-4b2a-939e-e44cbca8b7a4
2025-06-19 12:49:55 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 12:49:55 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 12:49:56 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 12:49:56 WARN  [main] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table refresh_token 
       drop constraint if exists FKjtx87i0jvq2svedphegvdwcuy" via JDBC [Cannot find the object "refresh_token" because it does not exist or you do not have permissions.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table refresh_token 
       drop constraint if exists FKjtx87i0jvq2svedphegvdwcuy" via JDBC [Cannot find the object "refresh_token" because it does not exist or you do not have permissions.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1711)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1460)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4467)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at catholic.ac.kr.secureuserapp.BookApplication.main(BookApplication.java:12)
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Cannot find the object "refresh_token" because it does not exist or you do not have permissions.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:270)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1735)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.doExecuteStatement(SQLServerStatement.java:929)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement$StmtExecCmd.doExecute(SQLServerStatement.java:823)
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7745)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4391)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:276)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:246)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.execute(SQLServerStatement.java:796)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 110 common frames omitted
2025-06-19 12:49:56 WARN  [main] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table users_roles 
       drop constraint if exists FKt4v0rrweyk393bdgt107vdx0x" via JDBC [Cannot find the object "users_roles" because it does not exist or you do not have permissions.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table users_roles 
       drop constraint if exists FKt4v0rrweyk393bdgt107vdx0x" via JDBC [Cannot find the object "users_roles" because it does not exist or you do not have permissions.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1711)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1460)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4467)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at catholic.ac.kr.secureuserapp.BookApplication.main(BookApplication.java:12)
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Cannot find the object "users_roles" because it does not exist or you do not have permissions.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:270)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1735)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.doExecuteStatement(SQLServerStatement.java:929)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement$StmtExecCmd.doExecute(SQLServerStatement.java:823)
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7745)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4391)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:276)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:246)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.execute(SQLServerStatement.java:796)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 110 common frames omitted
2025-06-19 12:49:56 WARN  [main] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table users_roles 
       drop constraint if exists FK2o0jvgh89lemvvo17cbqvdxaa" via JDBC [Cannot find the object "users_roles" because it does not exist or you do not have permissions.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table users_roles 
       drop constraint if exists FK2o0jvgh89lemvvo17cbqvdxaa" via JDBC [Cannot find the object "users_roles" because it does not exist or you do not have permissions.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1711)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1460)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4467)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at catholic.ac.kr.secureuserapp.BookApplication.main(BookApplication.java:12)
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Cannot find the object "users_roles" because it does not exist or you do not have permissions.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:270)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1735)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.doExecuteStatement(SQLServerStatement.java:929)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement$StmtExecCmd.doExecute(SQLServerStatement.java:823)
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7745)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4391)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:276)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:246)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.execute(SQLServerStatement.java:796)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 110 common frames omitted
2025-06-19 12:49:56 WARN  [main] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table verification_token 
       drop constraint if exists FK3asw9wnv76uxu3kr1ekq4i1ld" via JDBC [Cannot find the object "verification_token" because it does not exist or you do not have permissions.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table verification_token 
       drop constraint if exists FK3asw9wnv76uxu3kr1ekq4i1ld" via JDBC [Cannot find the object "verification_token" because it does not exist or you do not have permissions.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1711)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1460)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4467)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at catholic.ac.kr.secureuserapp.BookApplication.main(BookApplication.java:12)
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Cannot find the object "verification_token" because it does not exist or you do not have permissions.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:270)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1735)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.doExecuteStatement(SQLServerStatement.java:929)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement$StmtExecCmd.doExecute(SQLServerStatement.java:823)
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7745)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4391)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:276)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:246)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.execute(SQLServerStatement.java:796)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 110 common frames omitted
2025-06-19 12:49:56 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:49:56 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 12:49:57 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 12:49:57 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 12:49:58 WARN  [main] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addAdminService': Invocation of init method failed
2025-06-19 12:49:58 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:49:58 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:49:58 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:49:58 INFO  [main] o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-19 12:49:58 INFO  [main] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-19 12:49:58 ERROR [main] o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addAdminService': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:423)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at catholic.ac.kr.secureuserapp.BookApplication.main(BookApplication.java:12)
Caused by: java.lang.RuntimeException: Role not found
	at catholic.ac.kr.secureuserapp.service.AddAdminService.lambda$addUserWithRoleAdmin$0(AddAdminService.java:34)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at catholic.ac.kr.secureuserapp.service.AddAdminService.addUserWithRoleAdmin(AddAdminService.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219)
	... 20 common frames omitted
2025-06-19 12:53:09 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:53:09 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 9520 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:53:09 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:53:09 WARN  [main] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'initRoles' defined in class path resource [catholic/ac/kr/secureuserapp/service/AddAdminService.class]: Cannot register bean definition [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=addAdminService; factoryMethodName=initRoles; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [catholic/ac/kr/secureuserapp/service/AddAdminService.class]] for bean 'initRoles' since there is already [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=dataInitializer; factoryMethodName=initRoles; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [catholic/ac/kr/secureuserapp/config/DataInitializer.class]] bound.
2025-06-19 12:53:09 INFO  [main] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-19 12:53:09 ERROR [main] o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'initRoles', defined in class path resource [catholic/ac/kr/secureuserapp/service/AddAdminService.class], could not be registered. A bean with that name has already been defined in class path resource [catholic/ac/kr/secureuserapp/config/DataInitializer.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

2025-06-19 12:53:23 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:53:23 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 16048 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:53:23 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:53:24 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 12:53:24 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 64 ms. Found 4 JPA repository interfaces.
2025-06-19 12:53:25 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 12:53:25 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 12:53:25 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 12:53:25 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 12:53:25 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 12:53:25 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1441 ms
2025-06-19 12:53:25 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 12:53:25 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 12:53:25 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 12:53:26 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 12:53:26 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 12:53:26 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: ded2712e-e50b-42cc-9be0-afb3e91880d1
2025-06-19 12:53:26 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 12:53:26 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 12:53:27 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 12:53:27 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:53:27 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 12:53:28 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 12:53:28 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 12:53:29 WARN  [main] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addAdminService': Invocation of init method failed
2025-06-19 12:53:29 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:53:29 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:53:29 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:53:29 INFO  [main] o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-19 12:53:29 INFO  [main] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-19 12:53:29 ERROR [main] o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addAdminService': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:423)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at catholic.ac.kr.secureuserapp.BookApplication.main(BookApplication.java:12)
Caused by: java.lang.RuntimeException: Role not found
	at catholic.ac.kr.secureuserapp.service.AddAdminService.lambda$addUserWithRoleAdmin$0(AddAdminService.java:34)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at catholic.ac.kr.secureuserapp.service.AddAdminService.addUserWithRoleAdmin(AddAdminService.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219)
	... 20 common frames omitted
2025-06-19 12:54:18 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:54:18 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 8380 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:54:18 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:54:19 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 12:54:19 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 60 ms. Found 4 JPA repository interfaces.
2025-06-19 12:54:20 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 12:54:20 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 12:54:20 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 12:54:20 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 12:54:20 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 12:54:20 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1440 ms
2025-06-19 12:54:20 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 12:54:20 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 12:54:20 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 12:54:20 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 12:54:20 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 12:54:20 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 1eecc3a8-9ab2-44d4-8d60-8fcca89a18a9
2025-06-19 12:54:20 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 12:54:21 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 12:54:22 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 12:54:22 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:54:22 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 12:54:23 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 12:54:23 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 12:54:23 WARN  [main] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addAdminService': Invocation of init method failed
2025-06-19 12:54:23 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:54:23 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:54:23 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:54:23 INFO  [main] o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-19 12:54:23 INFO  [main] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-19 12:54:23 ERROR [main] o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addAdminService': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:423)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at catholic.ac.kr.secureuserapp.BookApplication.main(BookApplication.java:12)
Caused by: java.lang.RuntimeException: Role not found
	at catholic.ac.kr.secureuserapp.service.AddAdminService.lambda$addUserWithRoleAdmin$0(AddAdminService.java:34)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at catholic.ac.kr.secureuserapp.service.AddAdminService.addUserWithRoleAdmin(AddAdminService.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219)
	... 20 common frames omitted
2025-06-19 12:57:44 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:57:44 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 2056 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:57:44 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:57:45 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 12:57:45 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 69 ms. Found 4 JPA repository interfaces.
2025-06-19 12:57:46 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 12:57:46 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 12:57:46 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 12:57:46 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 12:57:46 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 12:57:46 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1434 ms
2025-06-19 12:57:46 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 12:57:46 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 12:57:46 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 12:57:46 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 12:57:46 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 12:57:46 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: b9c98da8-426a-4339-a190-24f3e1d0d698
2025-06-19 12:57:46 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 12:57:47 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 12:57:47 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 12:57:48 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:57:48 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 12:57:49 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 12:57:49 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 12:57:49 WARN  [main] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addAdminService': Invocation of init method failed
2025-06-19 12:57:49 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:57:49 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:57:49 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:57:49 INFO  [main] o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-19 12:57:49 INFO  [main] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-19 12:57:49 ERROR [main] o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addAdminService': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:423)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at catholic.ac.kr.secureuserapp.BookApplication.main(BookApplication.java:12)
Caused by: java.lang.RuntimeException: Role not found
	at catholic.ac.kr.secureuserapp.service.AddAdminService.lambda$addUserWithRoleAdmin$0(AddAdminService.java:34)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at catholic.ac.kr.secureuserapp.service.AddAdminService.addUserWithRoleAdmin(AddAdminService.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219)
	... 20 common frames omitted
2025-06-19 12:58:24 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:58:24 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 3820 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:58:24 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:58:25 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 12:58:25 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 70 ms. Found 4 JPA repository interfaces.
2025-06-19 12:58:26 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 12:58:26 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 12:58:26 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 12:58:26 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 12:58:26 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 12:58:26 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1527 ms
2025-06-19 12:58:26 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 12:58:26 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 12:58:26 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 12:58:26 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 12:58:26 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 12:58:27 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 044316c8-77ea-4ed4-8a45-62337ddbe206
2025-06-19 12:58:27 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 12:58:27 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 12:58:28 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 12:58:28 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:58:28 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 12:58:29 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 12:58:29 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 12:58:30 WARN  [main] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addAdminService': Invocation of init method failed
2025-06-19 12:58:30 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:58:30 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:58:30 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:58:30 INFO  [main] o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-19 12:58:30 INFO  [main] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-19 12:58:30 ERROR [main] o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addAdminService': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:423)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at catholic.ac.kr.secureuserapp.BookApplication.main(BookApplication.java:12)
Caused by: java.lang.RuntimeException: Role not found
	at catholic.ac.kr.secureuserapp.service.AddAdminService.lambda$addUserWithRoleAdmin$0(AddAdminService.java:34)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at catholic.ac.kr.secureuserapp.service.AddAdminService.addUserWithRoleAdmin(AddAdminService.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219)
	... 20 common frames omitted
2025-06-19 12:59:52 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 12:59:52 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 3116 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 12:59:52 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 12:59:53 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 12:59:53 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2025-06-19 12:59:54 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 12:59:54 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 12:59:54 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 12:59:54 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 12:59:54 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 12:59:54 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1430 ms
2025-06-19 12:59:54 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 12:59:54 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 12:59:54 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 12:59:54 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 12:59:54 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 12:59:55 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 7182636b-e97b-49f7-8a79-632af22316b1
2025-06-19 12:59:55 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 12:59:55 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 12:59:56 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 12:59:57 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:59:57 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 12:59:58 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 12:59:58 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 12:59:58 WARN  [main] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addAdminService': Invocation of init method failed
2025-06-19 12:59:58 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 12:59:58 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 12:59:58 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 12:59:58 INFO  [main] o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-19 12:59:58 INFO  [main] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-19 12:59:58 ERROR [main] o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addAdminService': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:423)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at catholic.ac.kr.secureuserapp.BookApplication.main(BookApplication.java:12)
Caused by: java.lang.RuntimeException: Role not found
	at catholic.ac.kr.secureuserapp.service.AddAdminService.lambda$addUserWithRoleAdmin$0(AddAdminService.java:34)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at catholic.ac.kr.secureuserapp.service.AddAdminService.addUserWithRoleAdmin(AddAdminService.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219)
	... 20 common frames omitted
2025-06-19 13:00:30 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 13:00:30 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 7284 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 13:00:30 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 13:00:31 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 13:00:31 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 74 ms. Found 4 JPA repository interfaces.
2025-06-19 13:00:32 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 13:00:32 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 13:00:32 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 13:00:32 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 13:00:32 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 13:00:32 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1534 ms
2025-06-19 13:00:32 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 13:00:32 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 13:00:32 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 13:00:32 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 13:00:32 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 13:00:33 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 6d518059-fccb-4318-94e9-4e62aee49360
2025-06-19 13:00:33 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 13:00:33 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 13:00:34 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 13:00:35 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 13:00:35 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 13:00:36 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 13:00:36 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 13:00:36 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 13:00:37 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 13:00:37 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 13:00:37 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.335 seconds (process running for 8.127)
2025-06-19 13:01:20 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 13:01:20 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 13:01:20 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 13:01:20 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 13:01:20 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 13:01:44 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 13:01:44 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 12368 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 13:01:44 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 13:01:44 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 13:01:45 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 4 JPA repository interfaces.
2025-06-19 13:01:45 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 13:01:45 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 13:01:45 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 13:01:45 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 13:01:45 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 13:01:45 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1533 ms
2025-06-19 13:01:46 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 13:01:46 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 13:01:46 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 13:01:46 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 13:01:46 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 13:01:46 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: d4c8d05d-1f9b-4d03-88fb-49229fce290b
2025-06-19 13:01:46 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 13:01:46 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 13:01:47 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 13:01:48 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 13:01:48 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 13:01:49 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 13:01:49 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 13:01:49 WARN  [main] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addAdminService': Invocation of init method failed
2025-06-19 13:01:49 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 13:01:49 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 13:01:49 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 13:01:49 INFO  [main] o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-19 13:01:49 INFO  [main] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-19 13:01:49 ERROR [main] o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addAdminService': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:423)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at catholic.ac.kr.secureuserapp.BookApplication.main(BookApplication.java:12)
Caused by: java.lang.RuntimeException: Role not found
	at catholic.ac.kr.secureuserapp.service.AddAdminService.lambda$addUserWithRoleAdmin$0(AddAdminService.java:34)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at catholic.ac.kr.secureuserapp.service.AddAdminService.addUserWithRoleAdmin(AddAdminService.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219)
	... 20 common frames omitted
2025-06-19 13:02:13 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 13:02:13 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 1260 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 13:02:13 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 13:02:14 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 13:02:14 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 72 ms. Found 4 JPA repository interfaces.
2025-06-19 13:02:15 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 13:02:15 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 13:02:15 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 13:02:15 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 13:02:15 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 13:02:15 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1471 ms
2025-06-19 13:02:15 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 13:02:15 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 13:02:15 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 13:02:15 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 13:02:15 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 13:02:15 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: ad515aca-d962-47f6-b955-55091d8668cb
2025-06-19 13:02:15 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 13:02:15 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 13:02:17 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 13:02:17 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 13:02:17 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 13:02:18 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 13:02:18 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 13:02:19 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 13:02:20 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 13:02:20 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 13:02:20 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 6.92 seconds (process running for 7.719)
2025-06-19 13:03:40 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 13:03:40 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 13:03:40 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-19 13:03:40 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.signup(catholic.ac.kr.secureuserapp.model.dto.SignupRequest)
2025-06-19 13:03:40 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> SignupRequest: loverain2000@gmail.com
2025-06-19 13:03:40 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.signUp(catholic.ac.kr.secureuserapp.model.dto.SignupRequest)
2025-06-19 13:03:40 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> SignupRequest: loverain2000@gmail.com
2025-06-19 13:03:40 INFO  [http-nio-8080-exec-2] c.a.k.s.service.AuthService - Username: loverain2000@gmail.com 
2025-06-19 13:03:41 INFO  [http-nio-8080-exec-2] c.a.k.s.service.AuthService - Encoded Password: $2a$10$jfIGxrmlck.IDueaH2EcueG2FfkFCqjNgz0YXSVyMD040Hq5yo6jm
2025-06-19 13:03:41 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public void catholic.ac.kr.secureuserapp.service.EmailService.sendSimpleMail(java.lang.String,java.lang.String,java.lang.String)
2025-06-19 13:03:46 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public void catholic.ac.kr.secureuserapp.service.EmailService.sendSimpleMail(java.lang.String,java.lang.String,java.lang.String) | Thời gian: 4865ms
2025-06-19 13:03:46 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.signUp(catholic.ac.kr.secureuserapp.model.dto.SignupRequest) | Thời gian: 5179ms
2025-06-19 13:03:46 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.signup(catholic.ac.kr.secureuserapp.model.dto.SignupRequest) | Thời gian: 5179ms
2025-06-19 13:03:55 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.verifyEmail(java.lang.String)
2025-06-19 13:03:55 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.verifyEmail(java.lang.String)
2025-06-19 13:03:55 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.verifyEmail(java.lang.String) | Thời gian: 147ms
2025-06-19 13:03:55 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.verifyEmail(java.lang.String) | Thời gian: 147ms
2025-06-19 13:04:05 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:04:05 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:04:05 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 13:04:05 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User) | Thời gian: 11ms
2025-06-19 13:04:05 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 245ms
2025-06-19 13:04:05 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 245ms
2025-06-19 13:04:08 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:04:08 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:04:08 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 13:04:08 WARN  [http-nio-8080-exec-6] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2627, SQLState: 23000
2025-06-19 13:04:08 ERROR [http-nio-8080-exec-6] o.h.e.jdbc.spi.SqlExceptionHelper - Violation of UNIQUE KEY constraint 'UKf95ixxe7pa48ryn1awmh2evt7'. Cannot insert duplicate key in object 'dbo.refresh_token'. The duplicate key value is (2).
2025-06-19 13:04:08 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 123ms
2025-06-19 13:04:08 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 123ms
2025-06-19 13:05:05 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 13:05:05 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 13:05:05 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 13:05:05 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 13:05:05 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 13:05:09 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 13:05:09 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 9844 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 13:05:09 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 13:05:10 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 13:05:10 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 71 ms. Found 4 JPA repository interfaces.
2025-06-19 13:05:10 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 13:05:10 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 13:05:10 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 13:05:10 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 13:05:11 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 13:05:11 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1511 ms
2025-06-19 13:05:11 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 13:05:11 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 13:05:11 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 13:05:11 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 13:05:11 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 13:05:11 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: a8973d80-7140-455b-9322-c6694e73b00e
2025-06-19 13:05:11 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 13:05:11 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 13:05:13 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 13:05:13 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 13:05:14 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 13:05:15 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 13:05:15 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 13:05:15 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 13:05:16 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 13:05:16 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 13:05:16 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.417 seconds (process running for 8.0)
2025-06-19 13:05:21 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 13:05:21 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 13:05:21 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-19 13:05:21 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:05:21 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:05:22 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 13:05:22 WARN  [http-nio-8080-exec-2] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2627, SQLState: 23000
2025-06-19 13:05:22 ERROR [http-nio-8080-exec-2] o.h.e.jdbc.spi.SqlExceptionHelper - Violation of UNIQUE KEY constraint 'UKf95ixxe7pa48ryn1awmh2evt7'. Cannot insert duplicate key in object 'dbo.refresh_token'. The duplicate key value is (2).
2025-06-19 13:05:22 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 350ms
2025-06-19 13:05:22 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 352ms
2025-06-19 13:08:35 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 13:08:35 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 13:08:35 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 13:08:35 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 13:08:35 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 13:08:39 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 13:08:39 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 19024 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 13:08:39 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 13:08:40 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 13:08:40 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 70 ms. Found 4 JPA repository interfaces.
2025-06-19 13:08:41 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 13:08:41 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 13:08:41 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 13:08:41 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 13:08:41 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 13:08:41 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1556 ms
2025-06-19 13:08:41 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 13:08:41 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 13:08:41 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 13:08:42 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 13:08:42 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 13:08:42 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: ee3752ea-ce58-497f-824b-ff64b4264893
2025-06-19 13:08:42 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 13:08:42 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 13:08:43 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 13:08:44 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 13:08:44 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 13:08:45 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 13:08:45 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 13:08:45 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 13:08:46 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 13:08:46 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 13:08:46 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.37 seconds (process running for 7.993)
2025-06-19 13:08:58 INFO  [http-nio-8080-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 13:08:58 INFO  [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 13:08:58 INFO  [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-19 13:08:58 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:08:58 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:08:58 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 13:08:58 WARN  [http-nio-8080-exec-4] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2627, SQLState: 23000
2025-06-19 13:08:58 ERROR [http-nio-8080-exec-4] o.h.e.jdbc.spi.SqlExceptionHelper - Violation of UNIQUE KEY constraint 'UKf95ixxe7pa48ryn1awmh2evt7'. Cannot insert duplicate key in object 'dbo.refresh_token'. The duplicate key value is (2).
2025-06-19 13:08:58 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 337ms
2025-06-19 13:08:58 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 339ms
2025-06-19 13:12:35 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 13:12:35 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 13:12:35 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 13:12:35 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 13:12:35 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 13:12:39 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 13:12:39 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 5476 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 13:12:39 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 13:12:40 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 13:12:40 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 65 ms. Found 4 JPA repository interfaces.
2025-06-19 13:12:40 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 13:12:40 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 13:12:40 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 13:12:40 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 13:12:40 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 13:12:40 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1553 ms
2025-06-19 13:12:41 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 13:12:41 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 13:12:41 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 13:12:41 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 13:12:41 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 13:12:41 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 16c03726-7764-44e1-81a3-2c4e7d05de85
2025-06-19 13:12:41 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 13:12:41 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 13:12:42 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 13:12:43 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 13:12:43 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 13:12:44 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 13:12:44 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 13:12:45 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 13:12:46 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 13:12:46 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 13:12:46 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.43 seconds (process running for 8.126)
2025-06-19 13:12:51 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 13:12:51 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 13:12:51 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-19 13:12:51 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:12:51 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:12:51 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 13:12:51 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User) | Thời gian: 118ms
2025-06-19 13:12:51 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 575ms
2025-06-19 13:12:51 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 577ms
2025-06-19 13:12:56 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:12:56 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:12:56 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 13:12:56 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User) | Thời gian: 23ms
2025-06-19 13:12:56 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 250ms
2025-06-19 13:12:56 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 250ms
2025-06-19 13:13:08 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:13:08 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:13:08 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 13:13:08 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User) | Thời gian: 21ms
2025-06-19 13:13:08 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 248ms
2025-06-19 13:13:08 INFO  [http-nio-8080-exec-4] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 254ms
2025-06-19 13:13:38 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map)
2025-06-19 13:13:38 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String)
2025-06-19 13:13:38 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String) | Thời gian: 58ms
2025-06-19 13:13:38 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public boolean catholic.ac.kr.secureuserapp.service.RefreshTokenService.isValid(catholic.ac.kr.secureuserapp.model.entity.RefreshToken)
2025-06-19 13:13:38 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public boolean catholic.ac.kr.secureuserapp.service.RefreshTokenService.isValid(catholic.ac.kr.secureuserapp.model.entity.RefreshToken) | Thời gian: 0ms
2025-06-19 13:13:38 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map) | Thời gian: 58ms
2025-06-19 13:13:54 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map)
2025-06-19 13:13:54 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String)
2025-06-19 13:13:54 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String) | Thời gian: 11ms
2025-06-19 13:13:54 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map) | Thời gian: 11ms
2025-06-19 13:14:01 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map)
2025-06-19 13:14:01 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String)
2025-06-19 13:14:01 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String) | Thời gian: 7ms
2025-06-19 13:14:01 INFO  [http-nio-8080-exec-7] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map) | Thời gian: 7ms
2025-06-19 13:14:07 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:14:07 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:14:07 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 13:14:07 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User) | Thời gian: 30ms
2025-06-19 13:14:07 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 262ms
2025-06-19 13:14:07 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 262ms
2025-06-19 13:14:19 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map)
2025-06-19 13:14:19 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String)
2025-06-19 13:14:19 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String) | Thời gian: 17ms
2025-06-19 13:14:19 INFO  [http-nio-8080-exec-9] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map) | Thời gian: 17ms
2025-06-19 13:14:55 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map)
2025-06-19 13:14:55 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String)
2025-06-19 13:14:55 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String) | Thời gian: 17ms
2025-06-19 13:14:55 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public boolean catholic.ac.kr.secureuserapp.service.RefreshTokenService.isValid(catholic.ac.kr.secureuserapp.model.entity.RefreshToken)
2025-06-19 13:14:55 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public boolean catholic.ac.kr.secureuserapp.service.RefreshTokenService.isValid(catholic.ac.kr.secureuserapp.model.entity.RefreshToken) | Thời gian: 0ms
2025-06-19 13:14:55 INFO  [http-nio-8080-exec-10] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map) | Thời gian: 29ms
2025-06-19 13:14:59 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:14:59 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:14:59 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 13:14:59 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User) | Thời gian: 22ms
2025-06-19 13:14:59 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 268ms
2025-06-19 13:14:59 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 274ms
2025-06-19 13:15:02 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map)
2025-06-19 13:15:02 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String)
2025-06-19 13:15:02 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public java.util.Optional catholic.ac.kr.secureuserapp.service.RefreshTokenService.findRefreshToken(java.lang.String) | Thời gian: 7ms
2025-06-19 13:15:02 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.refreshAccessToken(java.util.Map) | Thời gian: 7ms
2025-06-19 13:27:33 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 13:27:33 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 13:27:33 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 13:27:33 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 13:27:33 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 13:27:39 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 13:27:39 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 4508 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 13:27:39 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 13:27:40 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 13:27:40 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 73 ms. Found 4 JPA repository interfaces.
2025-06-19 13:27:40 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 13:27:40 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 13:27:40 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 13:27:40 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 13:27:41 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 13:27:41 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1719 ms
2025-06-19 13:27:41 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 13:27:41 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 13:27:41 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 13:27:41 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 13:27:41 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 13:27:42 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: e225d484-cc1d-436a-8397-bfb236a89025
2025-06-19 13:27:42 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 13:27:42 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 13:27:43 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 13:27:44 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 13:27:44 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 13:27:45 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 13:27:45 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 13:27:45 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 13:27:46 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 13:27:46 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 13:27:46 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.47 seconds (process running for 8.174)
2025-06-19 13:27:52 INFO  [http-nio-8080-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 13:27:52 INFO  [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 13:27:52 INFO  [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-19 13:27:53 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:27:53 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 13:27:53 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 13:27:53 WARN  [http-nio-8080-exec-5] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2627, SQLState: 23000
2025-06-19 13:27:53 ERROR [http-nio-8080-exec-5] o.h.e.jdbc.spi.SqlExceptionHelper - Violation of UNIQUE KEY constraint 'UKf95ixxe7pa48ryn1awmh2evt7'. Cannot insert duplicate key in object 'dbo.refresh_token'. The duplicate key value is (2).
2025-06-19 13:27:53 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.AuthService.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 701ms
2025-06-19 13:27:53 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 701ms
2025-06-19 13:35:15 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 13:35:15 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 13:35:15 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 13:35:15 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 13:35:15 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 13:44:07 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 13:44:07 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 14320 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 13:44:07 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 13:44:07 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 13:44:07 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 4 JPA repository interfaces.
2025-06-19 13:44:08 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 13:44:08 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 13:44:08 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 13:44:08 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 13:44:08 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 13:44:08 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1573 ms
2025-06-19 13:44:08 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 13:44:09 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 13:44:09 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 13:44:09 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 13:44:09 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 13:44:09 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 7df4079a-7e89-41b0-a996-86110636cc8a
2025-06-19 13:44:09 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 13:44:09 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 13:44:10 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 13:44:11 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 13:44:12 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 13:44:13 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 13:44:13 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 13:44:13 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 13:44:14 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 13:44:14 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 13:44:14 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.873 seconds (process running for 8.501)
2025-06-19 13:45:02 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 13:45:02 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 13:45:02 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-19 13:45:15 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 13:45:15 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 13:45:15 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 13:45:15 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 13:45:15 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 13:46:26 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 13:46:26 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 5228 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 13:46:26 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 13:46:26 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 13:46:27 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 70 ms. Found 4 JPA repository interfaces.
2025-06-19 13:46:27 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 13:46:27 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 13:46:27 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 13:46:27 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 13:46:27 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 13:46:27 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1478 ms
2025-06-19 13:46:28 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 13:46:28 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 13:46:28 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 13:46:28 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 13:46:28 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 13:46:28 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 844f0067-36c4-438d-8c8d-8cc87338a998
2025-06-19 13:46:28 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 13:46:28 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 13:46:29 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 13:46:30 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 13:46:31 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 13:46:32 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 13:46:32 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 13:46:32 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 13:46:33 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 13:46:33 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 13:46:33 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.581 seconds (process running for 8.159)
2025-06-19 13:46:37 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 13:46:37 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 13:46:37 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-19 13:46:38 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.logout(catholic.ac.kr.secureuserapp.model.dto.LogoutRequest)
2025-06-19 15:26:06 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h38m8s71ms1µs800ns).
2025-06-19 15:26:33 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 15:26:33 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 15:26:33 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 15:26:33 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 15:26:33 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 15:26:36 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 15:26:36 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 16736 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 15:26:36 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 15:26:37 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 15:26:37 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 4 JPA repository interfaces.
2025-06-19 15:26:37 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 15:26:37 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 15:26:37 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 15:26:37 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 15:26:37 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 15:26:37 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1422 ms
2025-06-19 15:26:38 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 15:26:38 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 15:26:38 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 15:26:38 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 15:26:38 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 15:26:38 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: d04c66b1-0612-4fa9-828c-8e5bc724ea5a
2025-06-19 15:26:38 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 15:26:38 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 15:26:39 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 15:26:40 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 15:26:41 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 15:26:42 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 15:26:42 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 15:26:42 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 15:26:44 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 15:26:44 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 15:26:44 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 8.572 seconds (process running for 9.353)
2025-06-19 15:26:48 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 15:26:48 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 15:26:48 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-19 15:26:49 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 15:26:49 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 15:26:49 WARN  [http-nio-8080-exec-2] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 2627, SQLState: 23000
2025-06-19 15:26:49 ERROR [http-nio-8080-exec-2] o.h.e.jdbc.spi.SqlExceptionHelper - Violation of UNIQUE KEY constraint 'UKf95ixxe7pa48ryn1awmh2evt7'. Cannot insert duplicate key in object 'dbo.refresh_token'. The duplicate key value is (2).
2025-06-19 15:26:49 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 367ms
2025-06-19 15:27:00 INFO  [http-nio-8080-exec-3] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.logout(catholic.ac.kr.secureuserapp.model.dto.LogoutRequest)
2025-06-19 15:28:07 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 15:28:07 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 15:28:07 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 15:28:07 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 15:28:07 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 15:28:28 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 15:28:28 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 5108 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 15:28:28 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 15:28:28 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 15:28:28 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2025-06-19 15:28:29 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 15:28:29 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 15:28:29 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 15:28:29 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 15:28:29 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 15:28:29 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1475 ms
2025-06-19 15:28:29 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 15:28:29 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 15:28:29 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 15:28:30 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 15:28:30 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 15:28:30 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: e9cf807d-798e-44c0-9a98-9ba7ab1e48ac
2025-06-19 15:28:30 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 15:28:30 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 15:28:31 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 15:28:32 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 15:28:32 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 15:28:33 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 15:28:33 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 15:28:34 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 15:28:35 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 15:28:35 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 15:28:35 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 7.549 seconds (process running for 8.125)
2025-06-19 15:28:40 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 15:28:40 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 15:28:40 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-19 15:28:40 INFO  [http-nio-8080-exec-2] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.logout(catholic.ac.kr.secureuserapp.model.dto.LogoutRequest)
2025-06-19 15:29:00 INFO  [http-nio-8080-exec-6] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.logout(catholic.ac.kr.secureuserapp.model.dto.LogoutRequest)
2025-06-19 15:29:20 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.logout(catholic.ac.kr.secureuserapp.model.dto.LogoutRequest)
2025-06-19 15:33:11 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 15:33:11 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 15:33:11 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 15:33:11 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 15:33:11 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-19 15:33:17 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-06-19 15:33:17 INFO  [main] c.a.kr.secureuserapp.BookApplication - Starting BookApplication using Java 22.0.2 with PID 1592 (C:\Users\nvtuy\IdeaProjects\Book-Store\target\classes started by nvtuy in C:\Users\nvtuy\IdeaProjects\Book-Store)
2025-06-19 15:33:17 INFO  [main] c.a.kr.secureuserapp.BookApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-19 15:33:18 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-19 15:33:18 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 69 ms. Found 4 JPA repository interfaces.
2025-06-19 15:33:19 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-19 15:33:19 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-19 15:33:19 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-19 15:33:19 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-19 15:33:19 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-19 15:33:19 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1753 ms
2025-06-19 15:33:19 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-19 15:33:19 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-19 15:33:20 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-19 15:33:20 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-19 15:33:20 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-19 15:33:20 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 19eab584-07c8-4b3f-9c38-2fdc3ab7fe8c
2025-06-19 15:33:20 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-19 15:33:20 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-19 15:33:22 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-19 15:33:23 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 15:33:23 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-19 15:33:24 INFO  [main] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-19 15:33:24 WARN  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-19 15:33:24 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-19 15:33:25 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-19 15:33:25 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-19 15:33:25 INFO  [main] c.a.kr.secureuserapp.BookApplication - Started BookApplication in 8.295 seconds (process running for 9.021)
2025-06-19 15:33:34 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-19 15:33:34 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-19 15:33:34 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-19 15:33:34 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.logout(catholic.ac.kr.secureuserapp.model.dto.LogoutRequest)
2025-06-19 15:33:34 INFO  [http-nio-8080-exec-1] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.logout(catholic.ac.kr.secureuserapp.model.dto.LogoutRequest) | Thời gian: 109ms
2025-06-19 15:33:52 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest)
2025-06-19 15:33:52 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User)
2025-06-19 15:33:52 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public catholic.ac.kr.secureuserapp.model.dto.ApiResponse catholic.ac.kr.secureuserapp.service.RefreshTokenService.createRefreshToken(catholic.ac.kr.secureuserapp.model.entity.User) | Thời gian: 79ms
2025-06-19 15:33:52 INFO  [http-nio-8080-exec-8] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.login(catholic.ac.kr.secureuserapp.model.dto.LoginRequest) | Thời gian: 591ms
2025-06-19 15:34:15 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - ==> Bắt đầu gọi: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.logout(catholic.ac.kr.secureuserapp.model.dto.LogoutRequest)
2025-06-19 15:34:16 INFO  [http-nio-8080-exec-5] c.a.k.s.Aspect.LoggingAspect - <== Kết thúc: public org.springframework.http.ResponseEntity catholic.ac.kr.secureuserapp.controller.AuthController.logout(catholic.ac.kr.secureuserapp.model.dto.LogoutRequest) | Thời gian: 42ms
2025-06-19 15:38:23 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-19 15:38:23 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-19 15:38:23 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-19 15:38:23 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-19 15:38:23 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
